#ifndef HITHARDWARESETUPC
#define HITHARDWARESETUPC
#include "iodefine.h"
#include "HIT_hardwaresetup.h"
void HIT_hardwaresetup()
{
	R_PG_Clock_Set();
	
	SYSTEM.MSTPCRA.BIT.MSTPA17 = 0;//////////////////////////////////S12AD
	SYSTEM.MSTPCRA.BIT.MSTPA16 = 0;
	SYSTEM.MSTPCRA.BIT.MSTPA23 = 0;//10 BIT
	
	S12AD0.ADCSR.BIT.CKS = 0X03;
	S12AD1.ADCSR.BIT.CKS = 0X03;
	S12AD0.ADCSR.BIT.ADCS = 0X01;//Continuous scan mode
	S12AD1.ADCSR.BIT.ADCS = 0X01;
	
	
	

S12AD0.ADCSR.BIT.TRGE=1;//允许由外部触发或者MTU3\GPT触发引起的A/D转换
S12AD1.ADCSR.BIT.TRGE=1;
S12AD0.ADCSR.BIT.EXTRG=0;//选择由A/D开始触发选择寄存器（ADSTRGR）选择的定时器源引起的扫描转换开始
S12AD0.ADCSR.BIT.EXTRG=0;

S12AD0.ADSTRGR.BIT.ADSTRS0=0X11;//GPT0.GTADTRA的比较匹配
//S12AD0.ADSTRGR.BIT.ADSTRS1=

S12AD1.ADSTRGR.BIT.ADSTRS0=0X11;//GPT0.GTADTRA的比较匹配
//S12AD1.ADSTRGR.BIT.ADSTRS1=

	
	
	
//	R_PG_SCI_Set_C0();//SET UP SCI
	
	S12AD0.ADANS.BIT.CH=0X03;
	S12AD1.ADANS.BIT.CH=0X03;
	S12AD0.ADCER.BIT.ADRFMT = 1;
	S12AD1.ADCER.BIT.ADRFMT = 1;
	S12AD0.ADSSTR = 20;/////////////SAMPLING REGISTER
	S12AD1.ADSSTR = 20;
	
//	S12AD0.ADCSR.BIT.ADST=1;
//	S12AD1.ADCSR.BIT.ADST=1;
	
	AD0.ADCSR.BIT.CH = 0X01;//CH0 AND CH1
	AD0.ADCR.BIT.MODE = 0X02;//Continuous scan mode
	AD0.ADCR.BIT.CKS = 0X03;//1  1: PCLK
	AD0.ADDPR.BIT.DPSEL =1;//high 10 bit
	AD0.ADDPR.BIT.DPPRC = 0;//10 bit jing du
	AD0.ADCSR.BIT.ADST = 1;//10BIT START

	HIT_pwm=10;

	HIT_tgr_b_val3 = 1000 - HIT_pwm;//4000 - HIT_pwm;
	HIT_tgr_a_val4 = 1000 - HIT_pwm;//4000 - HIT_pwm;
	HIT_tgr_b_val4 = 1000 - HIT_pwm;//4000 - HIT_pwm;

	R_PG_Timer_Set_GPT_U0();///////////GPT
	R_PG_Timer_Set_GPT_U0_C0();
	R_PG_Timer_SetGTCCR_A_GPT_U0_C0(HIT_tgr_b_val3);
	R_PG_Timer_SetGTCCR_B_GPT_U0_C0(HIT_tgr_d_val3);

	R_PG_Timer_Set_GPT_U0_C1();
	R_PG_Timer_SetGTCCR_A_GPT_U0_C1(HIT_tgr_a_val4);
	R_PG_Timer_SetGTCCR_B_GPT_U0_C1(HIT_tgr_c_val4);
	R_PG_Timer_Set_GPT_U0_C2();
	R_PG_Timer_SetGTCCR_A_GPT_U0_C2(HIT_tgr_b_val4);
	R_PG_Timer_SetGTCCR_B_GPT_U0_C2(HIT_tgr_d_val4);

	R_PG_Timer_Start_CMT_U0_C0();//CMT module start(1ms interrupt)
	R_PG_Timer_Start_CMT_U1_C3();  //CMT module start(1ms interrupt)
	GPT.GTSTR.WORD = 0X07;//////START SYNCROSCOLLY
	PORT9.DDR.BIT.B5=1;	
	
	GPT0.GTBER.BIT.ADTTA=2;
GPT0.GTBER.BIT.ADTDA=0;
GPT0.GTBER.BIT.ADTTB=0;
GPT0.GTBER.BIT.ADTDA=0;

	GPT0.GTINTAD.BIT.ADTRAUEN=1;

GPT0.GTADTBRA=0X01;
//GPT0.GTADTBRB=0X00;
GPT1.GTADTBRA=0X01;
//GPT1.GTADTBRB=0X00;
GPT2.GTADTBRA=0X01;
//GPT2.GTADTBRB=0X00;
	PORT9.DDR.BIT.B4 = 0X01;   // port94作为输出IO
	PORT9.DR.BIT.B4 = 0;       //初始引脚为低
	
	
}

#endif